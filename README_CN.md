# 多人俄罗斯方块 (Tetris 99 克隆版)

一个基于 Node.js、Socket.io 和 HTML5 Canvas 构建的多人俄罗斯方块游戏，灵感来源于 Tetris 99。与其他玩家对战，发送垃圾行，努力成为最后的幸存者！

## 特性

- **实时多人对战**：在同一个房间内与朋友或机器人对战。
- **策略目标选择**：随时切换目标模式：
  - **随机 (Random)**：攻击随机对手。
  - **反击 (Attackers)**：攻击正在瞄准你的对手。
  - **徽章 (Badges)**：攻击拥有最多徽章（击杀数）的玩家。
  - **濒死 (K.O.s)**：攻击即将被淘汰的玩家。
- **垃圾行系统**：消除行会向你的目标发送垃圾行。
- **视觉特效**：粒子火花、硬掉落闪光和 3D 风格方块渲染。
- **响应式布局**：自适应界面，支持移动端触摸控制。

## 前置要求

- [Node.js](https://nodejs.org/) (推荐 v14 或更高版本)
- npm (Node 包管理器)

## 快速开始

1. **克隆仓库**

    ```bash
    git clone https://github.com/linyuww/teris.git
    cd teris
    ```

2. **安装依赖**

    ```bash
    npm install
    ```

3. **启动服务器**

    ```bash
    npm start
    ```

4. **开始游戏**

    打开浏览器并访问 `http://localhost:3000`。
    
    - 输入 **房间号 (Room ID)** (例如 `room1`) 和 **昵称 (Nickname)**。
    - 打开多个浏览器标签页或使用不同设备连接到同一个房间号即可进行对战。

## 操作说明

### 桌面端 (键盘)

| 按键 | 动作 |
| --- | --- |
| **方向键 左 / 右** | 左移 / 右移方块 |
| **方向键 下** | 软掉落 (加速下落) |
| **方向键 上** | 顺时针旋转 |
| **Z** | 逆时针旋转 |
| **空格 (Space)** | 硬掉落 (瞬间锁定) |
| **C** 或 **Shift** | 暂存方块 (Hold) |
| **1** | 目标：随机 |
| **2** | 目标：反击 |
| **3** | 目标：徽章 |
| **4** | 目标：濒死 |

### 移动端 (触摸)

- 屏幕上提供用于移动、旋转、硬掉落和暂存的按钮。

## 项目结构

- `src/`: 服务端游戏逻辑。
  - `index.js`: 入口文件，Socket.io 设置。
  - `GameManager.js`: 管理游戏房间和循环。
  - `TetrisBoard.js`: 核心俄罗斯方块逻辑（网格、移动、消除）。
  - `PlayerController.js`: 处理用户输入和状态。
- `public/`: 客户端静态文件。
  - `index.html`: 游戏 UI。
  - `client.js`: 渲染和 Socket 事件。
  - `style.css`: 样式和布局。

## 许可证

ISC
